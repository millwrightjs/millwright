'use strict';

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

// Use special focus styles when keyboard navigation is in use
var lastEventType = void 0;
var focusClass = 'js-keyboard-focus';
var links = document.getElementsByTagName('a');
var buttons = document.getElementsByTagName('button');

var blurHandler = function blurHandler(event) {
  event.target.classList.remove(focusClass);
  event.target.removeEventListener('blur', blurHandler);
};

var focusHandler = function focusHandler(event) {
  if (lastEventType === 'keydown') {
    event.target.classList.add(focusClass);
    event.target.addEventListener('blur', blurHandler);
  }
};

document.body.addEventListener('click', function () {
  return lastEventType = 'click';
});
document.body.addEventListener('keydown', function () {
  return lastEventType = 'keydown';
});

[].concat(_toConsumableArray(links), _toConsumableArray(buttons)).forEach(function (el) {
  return el.addEventListener('focus', focusHandler);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kZW1vL3NjcmlwdHMuanMiXSwibmFtZXMiOlsibGFzdEV2ZW50VHlwZSIsImZvY3VzQ2xhc3MiLCJsaW5rcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJidXR0b25zIiwiYmx1ckhhbmRsZXIiLCJldmVudCIsInRhcmdldCIsImNsYXNzTGlzdCIsInJlbW92ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJmb2N1c0hhbmRsZXIiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiYm9keSIsImZvckVhY2giLCJlbCJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0EsSUFBSUEsc0JBQUo7QUFDQSxJQUFNQyxhQUFhLG1CQUFuQjtBQUNBLElBQU1DLFFBQVFDLFNBQVNDLG9CQUFULENBQThCLEdBQTlCLENBQWQ7QUFDQSxJQUFNQyxVQUFVRixTQUFTQyxvQkFBVCxDQUE4QixRQUE5QixDQUFoQjs7QUFFQSxJQUFNRSxjQUFjLFNBQWRBLFdBQWMsUUFBUztBQUMzQkMsUUFBTUMsTUFBTixDQUFhQyxTQUFiLENBQXVCQyxNQUF2QixDQUE4QlQsVUFBOUI7QUFDQU0sUUFBTUMsTUFBTixDQUFhRyxtQkFBYixDQUFpQyxNQUFqQyxFQUF5Q0wsV0FBekM7QUFDRCxDQUhEOztBQUtBLElBQU1NLGVBQWUsU0FBZkEsWUFBZSxRQUFTO0FBQzVCLE1BQUlaLGtCQUFrQixTQUF0QixFQUFpQztBQUMvQk8sVUFBTUMsTUFBTixDQUFhQyxTQUFiLENBQXVCSSxHQUF2QixDQUEyQlosVUFBM0I7QUFDQU0sVUFBTUMsTUFBTixDQUFhTSxnQkFBYixDQUE4QixNQUE5QixFQUFzQ1IsV0FBdEM7QUFDRDtBQUNGLENBTEQ7O0FBT0FILFNBQVNZLElBQVQsQ0FBY0QsZ0JBQWQsQ0FBK0IsT0FBL0IsRUFBd0M7QUFBQSxTQUFNZCxnQkFBZ0IsT0FBdEI7QUFBQSxDQUF4QztBQUNBRyxTQUFTWSxJQUFULENBQWNELGdCQUFkLENBQStCLFNBQS9CLEVBQTBDO0FBQUEsU0FBTWQsZ0JBQWdCLFNBQXRCO0FBQUEsQ0FBMUM7O0FBRUEsNkJBQUlFLEtBQUosc0JBQWNHLE9BQWQsR0FBdUJXLE9BQXZCLENBQStCO0FBQUEsU0FBTUMsR0FBR0gsZ0JBQUgsQ0FBb0IsT0FBcEIsRUFBNkJGLFlBQTdCLENBQU47QUFBQSxDQUEvQiIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gVXNlIHNwZWNpYWwgZm9jdXMgc3R5bGVzIHdoZW4ga2V5Ym9hcmQgbmF2aWdhdGlvbiBpcyBpbiB1c2VcbmxldCBsYXN0RXZlbnRUeXBlO1xuY29uc3QgZm9jdXNDbGFzcyA9ICdqcy1rZXlib2FyZC1mb2N1cyc7XG5jb25zdCBsaW5rcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJyk7XG5jb25zdCBidXR0b25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2J1dHRvbicpO1xuXG5jb25zdCBibHVySGFuZGxlciA9IGV2ZW50ID0+IHtcbiAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoZm9jdXNDbGFzcyk7XG4gIGV2ZW50LnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgYmx1ckhhbmRsZXIpO1xufTtcblxuY29uc3QgZm9jdXNIYW5kbGVyID0gZXZlbnQgPT4ge1xuICBpZiAobGFzdEV2ZW50VHlwZSA9PT0gJ2tleWRvd24nKSB7XG4gICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5hZGQoZm9jdXNDbGFzcyk7XG4gICAgZXZlbnQudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBibHVySGFuZGxlcik7XG4gIH1cbn07XG5cbmRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBsYXN0RXZlbnRUeXBlID0gJ2NsaWNrJyk7XG5kb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoKSA9PiBsYXN0RXZlbnRUeXBlID0gJ2tleWRvd24nKTtcblxuWy4uLmxpbmtzLCAuLi5idXR0b25zXS5mb3JFYWNoKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgZm9jdXNIYW5kbGVyKSk7XG4iXX0=