'use strict';

// TODO: remove uncaught exception logging
// This is in place temporarily to ensure we at least get a stack trace on failure while the project
// is in alpha.
process.on('uncaughtException', function (e) {
  console.log(e);process.exit(1);
});
process.on('unhandledRejection', function (e) {
  console.log(e);process.exit(1);
});

require('./utils/lodash-utils');
require('./utils/lodash-flow');
var _ = require('lodash');
var argv = require('yargs').argv;
var requireDir = require('require-dir');
var tasks = requireDir('./tasks', { camelcase: true });
var config = require('./config');

var arg = Object.keys(tasks).includes(argv._[0]) ? argv._[0] : '';
var cmd = arg || config.defaultCommand;

module.exports = tasks[cmd];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJwcm9jZXNzIiwib24iLCJjb25zb2xlIiwibG9nIiwiZSIsImV4aXQiLCJyZXF1aXJlIiwiXyIsImFyZ3YiLCJyZXF1aXJlRGlyIiwidGFza3MiLCJjYW1lbGNhc2UiLCJjb25maWciLCJhcmciLCJPYmplY3QiLCJrZXlzIiwiaW5jbHVkZXMiLCJjbWQiLCJkZWZhdWx0Q29tbWFuZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0FBLFFBQVFDLEVBQVIsQ0FBVyxtQkFBWCxFQUFnQyxhQUFLO0FBQUNDLFVBQVFDLEdBQVIsQ0FBWUMsQ0FBWixFQUFnQkosUUFBUUssSUFBUixDQUFhLENBQWI7QUFBaUIsQ0FBdkU7QUFDQUwsUUFBUUMsRUFBUixDQUFXLG9CQUFYLEVBQWlDLGFBQUs7QUFBQ0MsVUFBUUMsR0FBUixDQUFZQyxDQUFaLEVBQWdCSixRQUFRSyxJQUFSLENBQWEsQ0FBYjtBQUFpQixDQUF4RTs7QUFFQUMsUUFBUSxzQkFBUjtBQUNBQSxRQUFRLHFCQUFSO0FBQ0EsSUFBTUMsSUFBSUQsUUFBUSxRQUFSLENBQVY7QUFDQSxJQUFNRSxPQUFPRixRQUFRLE9BQVIsRUFBaUJFLElBQTlCO0FBQ0EsSUFBTUMsYUFBYUgsUUFBUSxhQUFSLENBQW5CO0FBQ0EsSUFBTUksUUFBUUQsV0FBVyxTQUFYLEVBQXNCLEVBQUNFLFdBQVcsSUFBWixFQUF0QixDQUFkO0FBQ0EsSUFBTUMsU0FBU04sUUFBUSxVQUFSLENBQWY7O0FBRUEsSUFBTU8sTUFBTUMsT0FBT0MsSUFBUCxDQUFZTCxLQUFaLEVBQW1CTSxRQUFuQixDQUE0QlIsS0FBS0QsQ0FBTCxDQUFPLENBQVAsQ0FBNUIsSUFBeUNDLEtBQUtELENBQUwsQ0FBTyxDQUFQLENBQXpDLEdBQXFELEVBQWpFO0FBQ0EsSUFBTVUsTUFBTUosT0FBT0QsT0FBT00sY0FBMUI7O0FBRUFDLE9BQU9DLE9BQVAsR0FBaUJWLE1BQU1PLEdBQU4sQ0FBakIiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUT0RPOiByZW1vdmUgdW5jYXVnaHQgZXhjZXB0aW9uIGxvZ2dpbmdcbi8vIFRoaXMgaXMgaW4gcGxhY2UgdGVtcG9yYXJpbHkgdG8gZW5zdXJlIHdlIGF0IGxlYXN0IGdldCBhIHN0YWNrIHRyYWNlIG9uIGZhaWx1cmUgd2hpbGUgdGhlIHByb2plY3Rcbi8vIGlzIGluIGFscGhhLlxucHJvY2Vzcy5vbigndW5jYXVnaHRFeGNlcHRpb24nLCBlID0+IHtjb25zb2xlLmxvZyhlKTsgcHJvY2Vzcy5leGl0KDEpO30pO1xucHJvY2Vzcy5vbigndW5oYW5kbGVkUmVqZWN0aW9uJywgZSA9PiB7Y29uc29sZS5sb2coZSk7IHByb2Nlc3MuZXhpdCgxKTt9KTtcblxucmVxdWlyZSgnLi91dGlscy9sb2Rhc2gtdXRpbHMnKTtcbnJlcXVpcmUoJy4vdXRpbHMvbG9kYXNoLWZsb3cnKTtcbmNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmNvbnN0IGFyZ3YgPSByZXF1aXJlKCd5YXJncycpLmFyZ3Y7XG5jb25zdCByZXF1aXJlRGlyID0gcmVxdWlyZSgncmVxdWlyZS1kaXInKTtcbmNvbnN0IHRhc2tzID0gcmVxdWlyZURpcignLi90YXNrcycsIHtjYW1lbGNhc2U6IHRydWV9KTtcbmNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoJy4vY29uZmlnJyk7XG5cbmNvbnN0IGFyZyA9IE9iamVjdC5rZXlzKHRhc2tzKS5pbmNsdWRlcyhhcmd2Ll9bMF0pID8gYXJndi5fWzBdIDogJyc7XG5jb25zdCBjbWQgPSBhcmcgfHwgY29uZmlnLmRlZmF1bHRDb21tYW5kO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHRhc2tzW2NtZF07XG4iXX0=